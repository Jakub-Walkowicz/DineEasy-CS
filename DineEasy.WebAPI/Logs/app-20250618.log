2025-06-18 17:35:31.662 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Customers" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Customers" PRIMARY KEY AUTOINCREMENT,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PhoneNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tables" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Tables" PRIMARY KEY AUTOINCREMENT,
    "TableNumber" INTEGER NOT NULL,
    "Capacity" INTEGER NOT NULL,
    "Location" TEXT NOT NULL,
    "IsActive" INTEGER NOT NULL DEFAULT 0
);
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TimeSlots" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_TimeSlots" PRIMARY KEY AUTOINCREMENT,
    "StartTime" TEXT NOT NULL,
    "EndTime" TEXT NOT NULL,
    "DayOfWeek" INTEGER NOT NULL,
    "IsAvailable" INTEGER NOT NULL
);
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Reservations" PRIMARY KEY AUTOINCREMENT,
    "CustomerId" INTEGER NOT NULL,
    "TableId" INTEGER NOT NULL,
    "ReservationDateTime" TEXT NOT NULL,
    "Duration" INTEGER NOT NULL,
    "PartySize" INTEGER NOT NULL,
    "Status" TEXT NOT NULL,
    "SpecialRequests" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    CONSTRAINT "CK_Reservation_PartySize" CHECK (PartySize > 0 AND PartySize <= 20),
    CONSTRAINT "FK_Reservations_Customers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "Customers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Reservations_Tables_TableId" FOREIGN KEY ("TableId") REFERENCES "Tables" ("Id") ON DELETE RESTRICT
);
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Customers_Email" ON "Customers" ("Email");
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Customers_PhoneNumber" ON "Customers" ("PhoneNumber");
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_CustomerId" ON "Reservations" ("CustomerId");
2025-06-18 17:35:31.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Reservations_TableId_DateTime" ON "Reservations" ("TableId", "ReservationDateTime");
2025-06-18 17:35:31.759 +02:00 [INF] Now listening on: http://localhost:5049
2025-06-18 17:35:31.761 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 17:35:31.761 +02:00 [INF] Hosting environment: Development
2025-06-18 17:35:31.761 +02:00 [INF] Content root path: /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI
2025-06-18 17:36:50.538 +02:00 [INF] Application is shutting down...
2025-06-18 17:37:07.959 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-18 17:37:08.022 +02:00 [INF] Now listening on: http://localhost:5049
2025-06-18 17:37:08.024 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 17:37:08.025 +02:00 [INF] Hosting environment: Development
2025-06-18 17:37:08.025 +02:00 [INF] Content root path: /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI
2025-06-18 17:37:08.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger - null null
2025-06-18 17:37:08.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger - 301 0 null 20.8594ms
2025-06-18 17:37:08.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/index.html - null null
2025-06-18 17:37:08.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/index.html - 200 null text/html;charset=utf-8 79.3716ms
2025-06-18 17:37:08.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/swagger-ui-standalone-preset.js - null null
2025-06-18 17:37:08.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/swagger-ui-bundle.js - null null
2025-06-18 17:37:08.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/swagger-ui.css - null null
2025-06-18 17:37:08.690 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-18 17:37:08.690 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-18 17:37:08.690 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-18 17:37:08.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 30.766ms
2025-06-18 17:37:08.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/swagger-ui.css - 200 152034 text/css 29.8737ms
2025-06-18 17:37:08.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 30.8198ms
2025-06-18 17:37:08.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/v1/swagger.json - null null
2025-06-18 17:37:08.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/favicon-32x32.png - null null
2025-06-18 17:37:08.775 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-06-18 17:37:08.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/favicon-32x32.png - 200 628 image/png 0.5026ms
2025-06-18 17:37:08.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.9959ms
2025-06-18 17:37:14.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/api/Reservations - null null
2025-06-18 17:37:14.007 +02:00 [WRN] Failed to determine the https port for redirect.
2025-06-18 17:37:14.013 +02:00 [INF] Executing endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI)'
2025-06-18 17:37:14.047 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[DineEasy.Application.DTOs.Reservation.ReservationDto]]] GetAll() on controller DineEasy.WebAPI.Controllers.ReservationsController (DineEasy.WebAPI).
2025-06-18 17:37:14.055 +02:00 [INF] Executing action method DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI) - Validation state: "Valid"
2025-06-18 17:37:14.056 +02:00 [INF] Getting all reservations
2025-06-18 17:37:14.065 +02:00 [INF] Executed action DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI) in 13.7799ms
2025-06-18 17:37:14.065 +02:00 [INF] Executed endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI)'
2025-06-18 17:37:14.066 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DineEasy.Infrastructure.Repositories.ReservationRepository.GetAllAsync() in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.Infrastructure/Repositories/ReservationRepository.cs:line 24
   at DineEasy.Application.Services.ReservationService.GetAllAsync() in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.Application/Services/ReservationService.cs:line 66
   at DineEasy.WebAPI.Controllers.ReservationsController.GetAll() in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI/Controllers/ReservationsController.cs:line 24
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-18 17:37:14.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/api/Reservations - 500 null text/plain; charset=utf-8 88.2219ms
2025-06-18 17:37:33.977 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/api/Reservations/1 - null null
2025-06-18 17:37:33.988 +02:00 [INF] Executing endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetById (DineEasy.WebAPI)'
2025-06-18 17:37:34.001 +02:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DineEasy.Application.DTOs.Reservation.ReservationDto]] GetById(Int32) on controller DineEasy.WebAPI.Controllers.ReservationsController (DineEasy.WebAPI).
2025-06-18 17:37:34.012 +02:00 [INF] Executing action method DineEasy.WebAPI.Controllers.ReservationsController.GetById (DineEasy.WebAPI) - Validation state: "Valid"
2025-06-18 17:37:34.013 +02:00 [INF] Getting reservation with ID: 1
2025-06-18 17:37:34.015 +02:00 [INF] Executed action DineEasy.WebAPI.Controllers.ReservationsController.GetById (DineEasy.WebAPI) in 13.6918ms
2025-06-18 17:37:34.015 +02:00 [INF] Executed endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetById (DineEasy.WebAPI)'
2025-06-18 17:37:34.016 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at DineEasy.Infrastructure.Repositories.ReservationRepository.GetByIdAsync(Int64 id) in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.Infrastructure/Repositories/ReservationRepository.cs:line 19
   at DineEasy.Application.Services.ReservationService.GetByIdAsync(Int32 id) in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.Application/Services/ReservationService.cs:line 21
   at DineEasy.WebAPI.Controllers.ReservationsController.GetById(Int32 id) in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI/Controllers/ReservationsController.cs:line 32
   at lambda_method18(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-18 17:37:34.017 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/api/Reservations/1 - 500 null text/plain; charset=utf-8 39.6309ms
2025-06-18 17:37:41.674 +02:00 [INF] Application is shutting down...
2025-06-18 17:40:40.833 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-18 17:40:40.878 +02:00 [INF] Now listening on: http://localhost:5049
2025-06-18 17:40:40.880 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 17:40:40.880 +02:00 [INF] Hosting environment: Development
2025-06-18 17:40:40.880 +02:00 [INF] Content root path: /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI
2025-06-18 17:40:55.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/index.html - null null
2025-06-18 17:40:55.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/index.html - 200 null text/html;charset=utf-8 89.5855ms
2025-06-18 17:40:55.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/v1/swagger.json - null null
2025-06-18 17:40:55.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.499ms
2025-06-18 17:40:59.525 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/api/Reservations - null null
2025-06-18 17:40:59.532 +02:00 [WRN] Failed to determine the https port for redirect.
2025-06-18 17:40:59.535 +02:00 [INF] Executing endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI)'
2025-06-18 17:40:59.560 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[DineEasy.Application.DTOs.Reservation.ReservationDto]]] GetAll() on controller DineEasy.WebAPI.Controllers.ReservationsController (DineEasy.WebAPI).
2025-06-18 17:40:59.562 +02:00 [INF] Getting all reservations
2025-06-18 17:40:59.694 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."CreatedAt", "r"."CustomerId", "r"."Duration", "r"."PartySize", "r"."ReservationDateTime", "r"."SpecialRequests", "r"."Status", "r"."TableId"
FROM "Reservations" AS "r"
2025-06-18 17:40:59.699 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DineEasy.Application.DTOs.Reservation.ReservationDto, DineEasy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-18 17:40:59.714 +02:00 [INF] Executed action DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI) in 152.7635ms
2025-06-18 17:40:59.714 +02:00 [INF] Executed endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI)'
2025-06-18 17:40:59.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/api/Reservations - 200 null application/json; charset=utf-8 189.8209ms
2025-06-18 17:41:56.141 +02:00 [INF] Application is shutting down...
2025-06-18 17:42:55.568 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-18 17:42:55.629 +02:00 [INF] Now listening on: http://localhost:5049
2025-06-18 17:42:55.631 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 17:42:55.631 +02:00 [INF] Hosting environment: Development
2025-06-18 17:42:55.631 +02:00 [INF] Content root path: /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI
2025-06-18 17:42:55.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/index.html - null null
2025-06-18 17:42:56.154 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/index.html - 200 null text/html;charset=utf-8 220.9878ms
2025-06-18 17:42:56.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/swagger/v1/swagger.json - null null
2025-06-18 17:42:56.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.4744ms
2025-06-18 17:43:02.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5049/api/Reservations - null null
2025-06-18 17:43:02.310 +02:00 [WRN] Failed to determine the https port for redirect.
2025-06-18 17:43:02.314 +02:00 [INF] Executing endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI)'
2025-06-18 17:43:02.344 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[DineEasy.Application.DTOs.Reservation.ReservationDto]]] GetAll() on controller DineEasy.WebAPI.Controllers.ReservationsController (DineEasy.WebAPI).
2025-06-18 17:43:02.353 +02:00 [INF] Executing action method DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI) - Validation state: "Valid"
2025-06-18 17:43:02.355 +02:00 [INF] Getting all reservations
2025-06-18 17:43:02.560 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."CreatedAt", "r"."CustomerId", "r"."Duration", "r"."PartySize", "r"."ReservationDateTime", "r"."SpecialRequests", "r"."Status", "r"."TableId"
FROM "Reservations" AS "r"
2025-06-18 17:43:02.567 +02:00 [INF] Executed action method DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 212.1544ms.
2025-06-18 17:43:02.571 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DineEasy.Application.DTOs.Reservation.ReservationDto, DineEasy.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-18 17:43:02.590 +02:00 [INF] Executed action DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI) in 244.877ms
2025-06-18 17:43:02.590 +02:00 [INF] Executed endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.GetAll (DineEasy.WebAPI)'
2025-06-18 17:43:02.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5049/api/Reservations - 200 null application/json; charset=utf-8 289.4566ms
2025-06-18 17:43:10.041 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5049/api/Reservations - application/json 156
2025-06-18 17:43:10.044 +02:00 [INF] CORS policy execution successful.
2025-06-18 17:43:10.045 +02:00 [INF] Executing endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.Create (DineEasy.WebAPI)'
2025-06-18 17:43:10.066 +02:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DineEasy.Application.DTOs.Reservation.ReservationDto]] Create(DineEasy.Application.DTOs.Reservation.CreateReservationDto) on controller DineEasy.WebAPI.Controllers.ReservationsController (DineEasy.WebAPI).
2025-06-18 17:43:10.115 +02:00 [INF] Executing action method DineEasy.WebAPI.Controllers.ReservationsController.Create (DineEasy.WebAPI) - Validation state: "Valid"
2025-06-18 17:43:10.116 +02:00 [INF] Creating new reservation for customer: 0
2025-06-18 17:43:10.214 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."CreatedAt", "c"."Email", "c"."FirstName", "c"."LastName", "c"."PhoneNumber"
FROM "Customers" AS "c"
WHERE "c"."Id" = @__p_0
LIMIT 1
2025-06-18 17:43:10.215 +02:00 [ERR] Error creating reservation
System.ArgumentException: Customer with ID 0 not found
   at DineEasy.Application.Services.ReservationService.CreateAsync(CreateReservationDto dto) in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.Application/Services/ReservationService.cs:line 29
   at DineEasy.WebAPI.Controllers.ReservationsController.Create(CreateReservationDto dto) in /Users/jakubwalkowicz/AGH_II_Semestr/PAB/Projekt_koncowy/DineEasy/DineEasy.WebAPI/Controllers/ReservationsController.cs:line 42
2025-06-18 17:43:10.228 +02:00 [INF] Executed action method DineEasy.WebAPI.Controllers.ReservationsController.Create (DineEasy.WebAPI), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 112.8044ms.
2025-06-18 17:43:10.228 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-18 17:43:10.229 +02:00 [INF] Executed action DineEasy.WebAPI.Controllers.ReservationsController.Create (DineEasy.WebAPI) in 161.9613ms
2025-06-18 17:43:10.229 +02:00 [INF] Executed endpoint 'DineEasy.WebAPI.Controllers.ReservationsController.Create (DineEasy.WebAPI)'
2025-06-18 17:43:10.229 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5049/api/Reservations - 400 null text/plain; charset=utf-8 187.4912ms
